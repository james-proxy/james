sudo: required
dist: trusty
matrix:
  include:
  - os: osx
language: node_js
node_js:
- '5.1'
addons:
  apt:
    packages:
    - icnsutils
    - graphicsmagick
script:
- npm prune
- npm --depth Infinity update
- npm run test-ci
- npm run dist
cache:
  apt: true
  directories:
  - node_modules
  - "$HOME/.electron"
env:
  global:
  - TEST=true
  - Derp=pls
  - secure: "mxVdnW3J15VO9cEjs2DOJhstJD1hCXGVwTXHdMYkHCbcBTDeLSJnRMsPWrro/wcjFzu5DsQHQuaJXJOB+3tjfg73cx7LtoMsYcDrfCNiLXmj01AcPEdnAYCnu7xw4WCXce7CDwaOB272S6aUkbJC1zcIFehj+NAmml61Q0nNIZr63YHmO81YRaYlbXM3AK5FwUoVm7MlhiszEv9XpuuSCfjDhW33dW1JbQwWgngCffb6YS3+m2LIbvzptR4uIXPa1zadeDq/Hz5FINCsobaIuk4EbqGH4+dFQaBMKBWSWwc8goL1UChKivk1NumIY5f1XyV/eRyLEPyuEbDGsAzAUCUlqTrhqNo90w7bdSjFgm1bTXDM+zPV24wsFHZg0wO/x0BH7mAhE+g7QNkqxySnUYgiu88YPrr+LwjwC5YXTrS/fdchLWTuU41M8FtKHvQ1RyR2DaJQie2Ep8wBqj2Se6ymeGVFMqrErYYaOhtKNiiFVUxqbWO6kYrX0lEUmYPcHwkYm0Y32zBUKwomp6aHMkvS7o6g+RKM3Yefu3lWJQgEQ4ZXpittphxIzHdIoOLuz9lV2dXjq/G2ooEei7cj5IBkKBSy+bEtk8/KNpQwZJdGykEjlQENKegi0UCqUec4L+zX2NaizOYEQZQw2bS4BCANHKwAANcJz9dYmXg8hNg="