sudo: required
dist: trusty
matrix:
  include:
  - os: osx
language: node_js
node_js:
- '5.1'
addons:
  apt:
    packages:
    - icnsutils
    - graphicsmagick
script:
- npm prune
- npm --depth Infinity update
- npm run test-ci
- npm run dist
cache:
  apt: true
  directories:
  - node_modules
  - "$HOME/.electron"
env:
  global:
  - TEST=true
  - Derp=pls
  - secure: "Sv5RuS+OPm/ZSnI94L1/g9A3QTzLJ7EmmDU9ERA6nhMZWMklgLwMinOWQrMj+3rB/VieoEp+o2hnh5ktnhCkCkdUzVH9JE69uffkqqWfmE49yBISWaUHYSEAGewG2N2ZMyq97gXTeBpOYDeEjLTl9URB0G+o8SQDOE3Q8jhrgnmerPeg5yEnM5Y7ITkFI5u7pr6leO2J1jQxZtq7S+apxPBrvrZBtVJG/vNGzUf5M9/+IxcdJ+eIY+F/M2PwdYp1YOE0r37KgylL83eLgXfZk4m5MKe6YSiO67mdbfSQMIcwJcXcZZgR8kSYY27bPOp6KZTLhcW0JV1sznZnU5TEIQdttEFHfcoa5/qX4glFwCEbzHXRaY7sQ1vTXafEBLFp6tMlzlkiZoTuACwmmEHb7jEC3TPNE3BqxfbI+ONf5RPTB9DF4fXKocz1dqOKwEk5qcIDwTt8qLwfMaoeIcFc6F8D40SeHzgA3QMgkqhPrugFMvCdWvLxZeFPYh6AKxewZ5qxpIrDloJ2JZsEXFLXww7pAmiO2T51tApLwWlJ+dSQAYJbMEEMjkjWL34ib/HHjsrNy7vUN0Iu+oEGcL0Oz00HeM0iXaeEsqo3CLiZ5h3GqvqaBsJr3ifXCUY77FCpF05FqGEzMZdiPXo4tNugBfhZzQsWYFFEoOJ1sRKouQ8="